# Sentinel (å“¨å…µ)

Sentinel æ˜¯ä¸€ä¸ªå‚ç›´äºåŒºå—é“¾åŠ å¯†è´§å¸åˆè§„ä¸å®‰å…¨é¢†åŸŸçš„è‡ªåŠ¨åŒ–æƒ…æŠ¥ç›‘æµ‹ç³»ç»Ÿã€‚æ—¨åœ¨å¸®åŠ©ç”¨æˆ·ä»æµ·é‡å…¬å¼€å¿«è®¯ä¸­è‡ªåŠ¨ç­›é€‰é«˜ä»·å€¼ä¿¡æ¯ï¼Œç¬¬ä¸€æ—¶é—´å‘ç°æ´—é’±ã€è¢«ç›—ã€ç›‘ç®¡æ”¿ç­–å˜åŠ¨ç­‰æ½œåœ¨é£é™©ä¿¡å·ï¼Œå¹¶æä¾›å®æ—¶é¢„è­¦ã€å‘¨æœŸæ€§æŠ¥å‘ŠåŠå¯è§†åŒ–ç®¡ç†ã€‚

## å¿«é€Ÿå¼€å§‹

### å¯åŠ¨æœåŠ¡

```bash
./scripts/start.sh
```

### æŸ¥çœ‹çŠ¶æ€

```bash
./scripts/status.sh
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# æŸ¥çœ‹æœ€å 50 è¡Œæ—¥å¿—
./scripts/logs.sh

# å®æ—¶è·Ÿè¸ªæ—¥å¿—
./scripts/logs.sh -f

# åªæ˜¾ç¤ºé”™è¯¯æ—¥å¿—
./scripts/logs.sh -e
```

### åœæ­¢æœåŠ¡

```bash
./scripts/stop.sh
```

### Web ç®¡ç†åå°

æœåŠ¡å¯åŠ¨åï¼Œè®¿é—® http://localhost:8000 æŸ¥çœ‹ç®¡ç†åå°ã€‚

## é¡¹ç›®ç»“æ„

```
Sentinel/
â”œâ”€â”€ README.md              # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ requirements.txt       # Python ä¾èµ–
â”œâ”€â”€ main.py               # å¼€å‘ç¯å¢ƒå…¥å£
â”œâ”€â”€ main_prod.py          # ç”Ÿäº§ç¯å¢ƒå…¥å£
â”œâ”€â”€ docs/                 # ğŸ“š æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ DEV.md           # å¼€å‘æ–‡æ¡£
â”‚   â”œâ”€â”€ PRD.md           # äº§å“éœ€æ±‚æ–‡æ¡£
â”‚   â””â”€â”€ RUN.md           # è¿è¡ŒæŒ‡å—
â”œâ”€â”€ scripts/              # ğŸ”§ è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ start.sh         # å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ stop.sh          # åœæ­¢è„šæœ¬
â”‚   â”œâ”€â”€ status.sh        # çŠ¶æ€æ£€æŸ¥è„šæœ¬
â”‚   â””â”€â”€ logs.sh          # æ—¥å¿—æŸ¥çœ‹è„šæœ¬
â”œâ”€â”€ tests/                # ğŸ§ª æµ‹è¯•ç›®å½•
â”‚   â”œâ”€â”€ test_aicoin.py
â”‚   â”œâ”€â”€ test_blockbeats.py
â”‚   â”œâ”€â”€ test_refactor.py
â”‚   â””â”€â”€ test_report.py
â””â”€â”€ src/                  # ğŸ’» æºä»£ç ç›®å½•
    â”œâ”€â”€ config.py         # é…ç½®ç®¡ç†
    â”œâ”€â”€ models.py         # æ•°æ®æ¨¡å‹
    â”œâ”€â”€ database.py       # æ•°æ®åº“æ“ä½œ
    â”œâ”€â”€ filter.py         # å…³é”®è¯è¿‡æ»¤
    â”œâ”€â”€ notifier.py       # æ¶ˆæ¯é€šçŸ¥
    â”œâ”€â”€ report.py         # æŠ¥è¡¨ç”Ÿæˆ
    â”œâ”€â”€ scheduler_service.py  # ä»»åŠ¡è°ƒåº¦
    â”œâ”€â”€ scrapers/         # çˆ¬è™«æ¨¡å—
    â”‚   â”œâ”€â”€ base.py
    â”‚   â”œâ”€â”€ aicoin.py
    â”‚   â””â”€â”€ blockbeats.py
    â””â”€â”€ web/              # Web åå°
        â”œâ”€â”€ app.py
        â”œâ”€â”€ routes.py
        â”œâ”€â”€ static/
        â””â”€â”€ templates/
```

## è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest tests/

# è¿è¡Œç‰¹å®šæµ‹è¯•
pytest tests/test_aicoin.py
```

## æ–‡æ¡£

- [å¼€å‘æ–‡æ¡£](docs/DEV.md) - æŠ€æœ¯æ¶æ„å’Œå¼€å‘æŒ‡å—
- [äº§å“éœ€æ±‚æ–‡æ¡£](docs/PRD.md) - äº§å“åŠŸèƒ½å’Œéœ€æ±‚è¯´æ˜
- [è¿è¡ŒæŒ‡å—](docs/RUN.md) - åå°è¿è¡Œå’Œæ•…éšœæ’æŸ¥

## æŠ€æœ¯æ ˆ

- **Python 3.10+**
- **FastAPI** - Web æ¡†æ¶
- **SQLite + SQLModel** - æ•°æ®åº“
- **Playwright** - ç½‘é¡µçˆ¬è™«
- **APScheduler** - ä»»åŠ¡è°ƒåº¦
- **Feishu Webhook** - æ¶ˆæ¯é€šçŸ¥
